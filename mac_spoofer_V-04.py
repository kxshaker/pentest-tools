import subprocess
import optparse

# MAC Changer Function.
def mac_changer(interface, new_mac):
    print("[+] Putting down "+ interface)
    subprocess.call(["ifconfig", interface, "down"])
    print("[+] Changing MAC address...")
    subprocess.call(["ifconfig", interface, "hw", "ether", new_mac])
    print("[+] MAC Changed to "+ new_mac)
    print("[+] Bringing "+interface+" back UP")
    subprocess.call(["ifconfig", interface, "up"])
    print("[+] Process finished successfuly!")
    
# Using the OptionParser method from the optparser object.
parser = optparse.OptionParser()
# Creating Options for the user for the interface and the new mac address with the add_option factory funtion.
parser.add_option("-i","--interface",dest="interface",help="Interface to change it's MAC Address.")
parser.add_option("-m","--MAC",dest="_MACaddress",help="New MAC Address.")

# Parsing user input commands.
(options, args) = parser.parse_args()

# Calling our funtion to change MAC address.
mac_changer(options.interface,options._MACaddress)



